# Vly - è§†é¢‘æ’­æ”¾å™¨

> âš ï¸ **æ ¸å¿ƒçº¦æŸ**ï¼šå¿…é¡»ä½¿ç”¨ KSPlayer + FFmpegï¼Œåªç”¨ AVPlayer é¡¹ç›®æ²¡æœ‰å­˜åœ¨æ„ä¹‰

## é¡¹ç›®ä¿¡æ¯

| é¡¹ç›® | å€¼ |
|------|------|
| åç§° | Vly |
| æè¿° | ç®€æ´ä¼˜é›…çš„ macOS/iOS è§†é¢‘æ’­æ”¾å™¨ |
| ç›®æ ‡å¹³å° | macOS 12.0+ / iOS 15.0+ |
| æŠ€æœ¯æ ˆ | SwiftUI 4.0, **KSPlayer + FFmpeg** |
| GitHub | https://github.com/linkyang01/Vly |

## âš ï¸ æ ¸å¿ƒçº¦æŸï¼ˆå¿…é¡»åšåˆ°ï¼‰

> **åšä¸åˆ°å°±æ”¾å¼ƒè¿™ä¸ªé¡¹ç›®**

| è¦æ±‚ | è¯´æ˜ | çŠ¶æ€ |
|------|------|------|
| **KSPlayer** | å¿…é¡»ä½¿ç”¨ KSPlayer ä½œä¸ºæ’­æ”¾å™¨å†…æ ¸ | âŒ è¿˜æ²¡åš |
| **FFmpeg** | å¿…é¡»æ¿€æ´» FFmpeg è§£ç ï¼Œæ”¯æŒå¤šæ ¼å¼ | âŒ è¿˜æ²¡åš |
| **å¤šæ ¼å¼** | MKVã€AVIã€FLV ç­‰å¿…é¡»èƒ½æ’­æ”¾ | âŒ è¿˜æ²¡åš |
| **å¯¹æ¯”** | ç”¨ AVPlayer å°±æ”¾å¼ƒé¡¹ç›® | - |

## æ’­æ”¾å™¨æ¶æ„

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚               Vly (SwiftUI ç•Œé¢)            â”‚
â”‚                    â†“                       â”‚
â”‚          è°ƒç”¨ KSPlayer                       â”‚
â”‚                    â†“                       â”‚
â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”‚
â”‚  â”‚           KSPlayer                    â”‚  â”‚
â”‚  â”‚  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”  â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”   â”‚  â”‚
â”‚  â”‚  â”‚  AVPlayer   â”‚  â”‚   FFmpeg    â”‚   â”‚  â”‚
â”‚  â”‚  â”‚  (è‹¹æœåŸç”Ÿ) â”‚  â”‚  (è§£ç æ’ä»¶) â”‚   â”‚  â”‚
â”‚  â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜   â”‚  â”‚
â”‚  â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜  â”‚
â”‚                    â†“                       â”‚
â”‚         æ”¯æŒ MP4ã€MKVã€AVIã€FLV...         â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## æ ¸å¿ƒåŠŸèƒ½

- ğŸ¬ è§†é¢‘æ’­æ”¾ï¼ˆæœ¬åœ°/ç½‘ç»œï¼‰
- ğŸ¯ **å¤šæ ¼å¼æ”¯æŒ**ï¼ˆMP4ã€MKVã€AVI ç­‰ï¼‰â† FFmpeg è§£ç 
- ğŸ“Š ç”»è´¨åˆ‡æ¢
- ğŸ—£ï¸ å­—å¹•æ”¯æŒ
- ğŸ–¼ï¸ ç”»ä¸­ç”» (PiP)
- ğŸ“‹ æ’­æ”¾åˆ—è¡¨ç®¡ç†
- â³ æ’­æ”¾é˜Ÿåˆ—
- âŒ¨ï¸ é”®ç›˜å¿«æ·é”®

## æŠ€æœ¯é€‰å‹

| ç»„ä»¶ | é€‰æ‹© | ç†ç”± |
|------|------|------|
| UI æ¡†æ¶ | SwiftUI | è·¨å¹³å°ã€å£°æ˜å¼ |
| æ’­æ”¾å™¨ | KSPlayer | åŠŸèƒ½å…¨ã€è·¨å¹³å° |
| åŒ…ç®¡ç† | Swift Package Manager | å®˜æ–¹æ¨è |
| License | GPL | å…è´¹ä½¿ç”¨ |

## å¼€å§‹ä½¿ç”¨

### ç¯å¢ƒè¦æ±‚

- macOS 12.0+ / Xcode 15.0+
- iOS 15.0+ / Xcode 15.0+

### å…‹éš†é¡¹ç›®

```bash
# å…‹éš†ä»“åº“
git clone https://github.com/linkyang01/Vly.git
cd Vly

# ç”Ÿæˆ Xcode é¡¹ç›®
xcodegen generate

# æ‰“å¼€é¡¹ç›®
open Vly.xcodeproj
```

### æ·»åŠ ä¾èµ–

Xcode â†’ File â†’ Add Package Dependencies

```
https://github.com/kingslay/KSPlayer.git
é€‰æ‹© main åˆ†æ”¯
æ·»åŠ åˆ°ç›®æ ‡ Vly
```

## GitHub åŒæ­¥æŒ‡å—

æœ¬é¡¹ç›®é‡‡ç”¨ **é˜¶æ®µæ€§åŒæ­¥** ç­–ç•¥ï¼Œæ¯ä¸ªå¼€å‘é˜¶æ®µå®ŒæˆååŒæ­¥åˆ° GitHubã€‚

### åŒæ­¥æµç¨‹

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    æœ¬åœ°å¼€å‘é˜¶æ®µ                              â”‚
â”‚  1. åœ¨ workspace/Vly/ ä¸­å¼€å‘                             â”‚
â”‚  2. æµ‹è¯•åŠŸèƒ½å®Œæ•´æ€§                                         â”‚
â”‚  3. æ›´æ–°ç›¸å…³æ–‡æ¡£                                          â”‚
â”‚  4. æäº¤ä»£ç                                              â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
                            â”‚
                            â–¼
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚                    åŒæ­¥åˆ° GitHub                            â”‚
â”‚                                                          â”‚
â”‚  # æ–¹å¼ 1: ä½¿ç”¨ Git å‘½ä»¤ (æ¨è)                          â”‚
â”‚  git add .                                               â”‚
â”‚  git commit -m "æè¿°: å®Œæˆçš„åŠŸèƒ½"                        â”‚
â”‚  git push origin main                                    â”‚
â”‚                                                          â”‚
â”‚  # æ–¹å¼ 2: ä½¿ç”¨ GitHub CLI                               â”‚
â”‚  gh repo create Vly --public --description "æè¿°"         â”‚
â”‚  gh repo push Vly --source=.                            â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

### åŒæ­¥æ£€æŸ¥æ¸…å•

æ¯ä¸ªé˜¶æ®µå®Œæˆåæ£€æŸ¥ï¼š

- [ ] ä»£ç ç¼–è¯‘é€šè¿‡
- [ ] åŠŸèƒ½æµ‹è¯•é€šè¿‡
- [ ] ç›¸å…³æ–‡æ¡£å·²æ›´æ–°
- [ ] æ— ä¸´æ—¶æ–‡ä»¶
- [ ] æäº¤ä¿¡æ¯æ¸…æ™°

### æäº¤ä¿¡æ¯è§„èŒƒ

```bash
# æ ¼å¼
git commit -m "ç±»å‹: æè¿°

ç±»å‹:
- feat: æ–°åŠŸèƒ½
- fix: ä¿®å¤ bug
- docs: æ–‡æ¡£æ›´æ–°
- refactor: é‡æ„
- style: æ ¼å¼è°ƒæ•´
- test: æµ‹è¯•ç›¸å…³

ç¤ºä¾‹:
git commit -m "feat: æ·»åŠ æ’­æ”¾åˆ—è¡¨ç®¡ç†åŠŸèƒ½

- å®ç°æ’­æ”¾åˆ—è¡¨ CRUD æ“ä½œ
- æ·»åŠ æ‹–åŠ¨æ’åºæ”¯æŒ
- æ›´æ–° PlaylistService
"
```

### åˆ†æ”¯ç­–ç•¥

```bash
# ä¸»åˆ†æ”¯ (ä¿æŠ¤)
main        # ç¨³å®šç‰ˆæœ¬

# å¼€å‘åˆ†æ”¯ (å¯é€‰)
develop     # å¼€å‘ä¸­åŠŸèƒ½

# ç‰¹æ€§åˆ†æ”¯
feature/playlist   # æ’­æ”¾åˆ—è¡¨åŠŸèƒ½
feature/subtitle    # å­—å¹•æ”¯æŒ
feature/pip         # ç”»ä¸­ç”»
```

### å¸¸ç”¨å‘½ä»¤é€ŸæŸ¥

```bash
# æŸ¥çœ‹çŠ¶æ€
git status

# æŸ¥çœ‹å·®å¼‚
git diff

# æŸ¥çœ‹æäº¤å†å²
git log --oneline

# æŸ¥çœ‹è¿œç¨‹
git remote -v

# æ‹‰å–æœ€æ–°
git pull origin main

# å¼ºåˆ¶æ¨é€ (è°¨æ…ä½¿ç”¨)
git push -f origin main
```

## é¡¹ç›®ç»“æ„

```
Vly/
â”œâ”€â”€ Sources/
â”‚   â”œâ”€â”€ App/
â”‚   â”‚   â”œâ”€â”€ VlyApp.swift              # åº”ç”¨å…¥å£
â”‚   â”‚   â””â”€â”€ ContentView.swift         # æ ¹è§†å›¾
â”‚   â”œâ”€â”€ Views/
â”‚   â”‚   â”œâ”€â”€ Player/
â”‚   â”‚   â”‚   â””â”€â”€ VideoPlayerView.swift  # æ’­æ”¾å™¨ä¸»è§†å›¾
â”‚   â”‚   â”œâ”€â”€ Controls/
â”‚   â”‚   â”‚   â”œâ”€â”€ ProgressBar.swift      # è¿›åº¦æ¡
â”‚   â”‚   â”‚   â””â”€â”€ PlaybackControls.swift   # æ’­æ”¾æ§åˆ¶
â”‚   â”‚   â”œâ”€â”€ Playlist/
â”‚   â”‚   â”‚   â”œâ”€â”€ PlaylistView.swift     # æ’­æ”¾åˆ—è¡¨
â”‚   â”‚   â”‚   â””â”€â”€ PlaylistItem.swift       # åˆ—è¡¨é¡¹
â”‚   â”‚   â””â”€â”€ Settings/
â”‚   â”‚       â””â”€â”€ SettingsView.swift      # è®¾ç½®é¡µ
â”‚   â”œâ”€â”€ Models/
â”‚   â”‚   â”œâ”€â”€ Video.swift                # è§†é¢‘æ¨¡å‹
â”‚   â”‚   â”œâ”€â”€ Playlist.swift             # æ’­æ”¾åˆ—è¡¨æ¨¡å‹
â”‚   â”‚   â””â”€â”€ PlaybackState.swift         # æ’­æ”¾çŠ¶æ€
â”‚   â”œâ”€â”€ Services/
â”‚   â”‚   â”œâ”€â”€ PlayerService.swift         # æ’­æ”¾å™¨ç®¡ç†
â”‚   â”‚   â””â”€â”€ PlaylistService.swift       # åˆ—è¡¨ç®¡ç†
â”‚   â””â”€â”€ Utilities/
â”‚       â”œâ”€â”€ TimeFormatter.swift         # æ—¶é—´æ ¼å¼åŒ–
â”‚       â””â”€â”€ Extensions.swift             # æ‰©å±•æ–¹æ³•
â”œâ”€â”€ Resources/
â”‚   â”œâ”€â”€ Sounds/                        # éŸ³æ•ˆæ–‡ä»¶
â”‚   â””â”€â”€ Localization/                    # æœ¬åœ°åŒ–èµ„æº
â”œâ”€â”€ docs/
â”‚   â”œâ”€â”€ README.md                       # æ–‡æ¡£ç´¢å¼•
â”‚   â”œâ”€â”€ 01-Architecture/               # æ¶æ„è®¾è®¡
â”‚   â”‚   â””â”€â”€ README.md
â”‚   â”œâ”€â”€ 02-Requirements/               # åŠŸèƒ½éœ€æ±‚
â”‚   â”‚   â””â”€â”€ FEATURES.md
â”‚   â”œâ”€â”€ 03-UI-UX/                     # UI/UX è®¾è®¡
â”‚   â”‚   â””â”€â”€ DESIGN.md
â”‚   â”œâ”€â”€ 04-Data-Models/               # æ•°æ®æ¨¡å‹
â”‚   â”‚   â””â”€â”€ MODELS.md
â”‚   â”œâ”€â”€ 05-Services/                  # æœåŠ¡è®¾è®¡
â”‚   â”‚   â””â”€â”€ SERVICES.md
â”‚   â””â”€â”€ 06-Research/                   # ç ”ç©¶æ–‡æ¡£
â”‚       â””â”€â”€ KSPLAYER_INTEGRATION.md
â”œâ”€â”€ scripts/
â”‚   â””â”€â”€ build.sh                       # æ„å»ºè„šæœ¬
â”œâ”€â”€ project.yml                         # XcodeGen é…ç½®
â”œâ”€â”€ Package.swift                       # Swift Package é…ç½®
â”œâ”€â”€ README.md                           # é¡¹ç›®è¯´æ˜
â”œâ”€â”€ AGENTS.md                           # AI è¡Œä¸ºè§„èŒƒ
â””â”€â”€ LICENSE                            # GPL v3
```

## æ–‡æ¡£

- [æ¶æ„è®¾è®¡](docs/01-Architecture/README.md)
- [åŠŸèƒ½éœ€æ±‚](docs/02-Requirements/FEATURES.md)
- [UI/UX è®¾è®¡](docs/03-UI-UX/DESIGN.md)
- [æ•°æ®æ¨¡å‹](docs/04-Data-Models/MODELS.md)
- [æœåŠ¡è®¾è®¡](docs/05-Services/SERVICES.md)
- [KSPlayer é›†æˆç ”ç©¶](docs/06-Research/KSPLAYER_INTEGRATION.md)
- [åŸå‹å›¾è®¾è®¡](docs/PROTOTYPES.md)

## è®¸å¯è¯

**GPL v3** - åŸºäº [KSPlayer](https://github.com/kingslay/KSPlayer)

## ç›¸å…³é“¾æ¥

- KSPlayer: https://github.com/kingslay/KSPlayer
- SwiftUI: https://developer.apple.com/swiftui/
- Apple Swift Style Guide: https://www.swift.org/documentation/api-design-guidelines/
